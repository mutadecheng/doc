# Sqler


# 一.Sqler介绍
 Sqler是一款对SqlServer 、MySql、Sqlite数据库进行管理的工具。


# 二.SqlRun
本功能可以让用户直接在线执行sql语句。需先在“SqlRun配置”页面配置数据库的连接信息。拥有如下功能：

- 1.执行
直接执行sql语句，并显示影响的数据行数

- 2.新页面执行
弹出新页面执行sql语句，按步显示sql语句执行的结果、报错信息(如有)等

- 3.执行并显示影响
执行sql语句，并把语句的结果集数据显示到页面下侧。请勿执行返回海量数据的语句。

- 4.导出数据
导出sql语句执行后返回的结果集，可以导出为 sqlite、xls、csv、txt文件。



# 三.SqlServer备份还原
  对SqlServer数据库进行备份和还原。

## 1.备份还原配置
在“SqlServer备份还原配置”页面配置数据库的连接字符串、备份文件路径、数据库路径。如下所示：

![img](file/SqlServerBackup-1.png)

## 2.备份还原
   在“SqlServer备份还原”页面，可以进行数据库的备份还原相关操作。列表显示的是备份文件列表。
   表头显示数据库状态（online:在线  offline：离线  none:没有数据库  unknow：未知状态）和进程连接数。如下所示：

![img](file/SqlServerBackup-2.png)


SqlServer有两种备份数据库的方式：bak备份和Sqler备份。

bak备份使用SqlServer原生的备份命令。

Sqler备份使用本软件的备份逻辑进行备份，逻辑为：
1. 构建数据库结构创建语句（表、索引、触发器、存储过程等）数据库
2. 备份所有表的数据到sqlite文件
3. zip压缩生成sqler备份文件包



以下先说明除了备份还原之外的功能：

### 创建数据库
在数据库没有存在时，可以创建数据库。


### 删除数据库
在数据库已经存在时，可以删除数据库。


### 附加数据库
在数据库没有存在，且在数据库文件目录下存在对应数据库文件时，可以附加数据库。


### 分离数据库
在数据库存在时，可以分离数据库，分离数据库只是让数据库离线，不会删除数据库文件，分离后的数据库可以通过“附加数据库”操作上线数据库。


### 强制关闭数据库连接进程
在数据库有连接的进程时，可能无法完成“分离数据库”、“还原数据库”、“删除数据库”等操作，可以通过此功能强制关闭连接进程，之后就可以进行相关操作了。

### 导入导出
点击导入导出按钮，会弹出导入导出弹框，在弹框内进行数据库的导入导出操作。如下所示：

![img](file/SqlServerBackup-3.png)



